<html>
<title>SCAN</title>
<head>

<meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
<link rel="icon" type="image/x-icon" href=".\assets\images\fav.ico">
    <link rel="shortcut icon" type="image/x-icon" href=".\assets\images\fav.ico">
</head>
<style>

.st {
  margin: 2em auto;
  max-width: 600px;
}

form div {
    margin-bottom: 0.5em;
}
form div label, form div input {
    display: block;
    margin-bottom: 0.3em;
}

.navbar-inverse {
    background-color: #dff0d8;
    border-color: #080808;
}

.navbar-inverse .navbar-brand {
    color: #337ab7;
}

.topnav-centered a {
  float: none;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

.nav-h{
height: 80px; /* Just an example height*/
}

.middlee {

float: none;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

</style>


<body onload="">

<nav class="navbar navbar-inverse nav-h">
<a class="navbar-brand" href="#">
    <img src="assets/images/MF200.png" alt="logo" style="width:150px;">
  </a>
  <div class="container-fluid">
    <div class="navbar-header topnav-centered">
      <a class="navbar-brand " href="home.html">Docker Image Scanner</a>
    </div>
   
  </div>
</nav>

<div>

<marquee behavior="scroll" direction="left"><h6 align="center" style="font-size:16px;font-family:Arial">Docker image scanner is tool thet help us to rewrite the Dockerfile used to 
build the docker images in  an efficient way by suggesting 
optimization by scanning docker content  </h6></marquee>
</div>

<br>
<br>
<br>


<div class="st">

<form id="test" action="#" method="post">
   <div class="form-group">
    	<label for="select">SUITE</label>
    	<select name="suite" class="form-control">
    		<option value="none" selected="selected">None</option>
    		<option value="HCM">HCM </option>
            <option value="DCA">DCA</option>
            <option value="SMAX">SMAX</option>
            <option value="OpsB">OpsB</option>
    	</select>

    </div>
    
    <div class="form-group">
    	<label for="select">RELEASE</label>
    	<select name="release" class="form-control">
    		<option value="none" selected="selected">None</option>
    		<option value="2019.08">2019.08</option>
            <option value="2019.05">2019.05</option>
            <option value="2019.02">2019.02</option>
            <option value="2018.11">2018.11</option>
    	</select>

    </div>
    
    <div class="form-group">
        <label for="metadatalink">METADATA LINK</label>
        <input class="form-control" type="text" name="METADATA" id="METADATA" />
    </div>
	
	<div class="form-group">
    	<label for="check">SECURITY SCAN</label>
    	<input type="checkbox" name="check">
    </div>
    
    <p>
        <input type="submit" value="Scan Now" class="btn btn-primary btn-block" />
    </p>
</form>	
<pre id="ou"></pre>

<p id="xx"></p>
</div>



























<script>
  
(function() {
	function toJSONString( form ) {
		var obj = {};
		var elements = form.querySelectorAll( "input, select, textarea" );
		for( var i = 0; i < elements.length; ++i ) {
			var element = elements[i];
			var name = element.name;
			var value = element.value;

			if( name ) {
				obj[ name ] = value;
			}
		}
console.log(sessionStorage.getItem("condition"));
		return JSON.stringify( obj );
	}

	document.addEventListener( "DOMContentLoaded", function() {
		var form = document.getElementById( "test" );
		var output = document.getElementById( "output" );
		form.addEventListener( "submit", function( e ) {
			e.preventDefault();
			var json = toJSONString( this );
			console.log(json);
			


var xhr = new XMLHttpRequest();
xhr.withCredentials = true;

xhr.addEventListener("readystatechange", function () {
  if (this.readyState === 4) {
    console.log(this.responseText);
  }
});

xhr.open("POST", "http://16.103.35.252:5001/api/v1.0/job");
xhr.setRequestHeader("Content-Type", "application/json");

xhr.setRequestHeader("Access-Control-Allow-Origin","http://16.103.35.252:5001");
xhr.setRequestHeader("Vary", "Origin");
xhr.setRequestHeader("Access-Control-Allow-Credentials", "true");
xhr.setRequestHeader("Access-Control-Allow-Methods", "POST, GET, OPTIONS, DELETE");
xhr.setRequestHeader("Access-Control-Max-Age", "3600");
xhr.setRequestHeader("Access-Control-Allow-Headers", "Content-Type, Accept, X-Requested-With, remember-me");
xhr.send(json);
      


			

		}, false);

	});

})();


</script>
</body>

</html>